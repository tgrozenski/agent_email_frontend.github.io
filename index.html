<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Agent Email</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex items-center justify-center h-screen">
    <div class="text-center">
        <h1 class="text-5xl font-bold text-gray-800 mb-8">Welcome to Agent Email</h1>
        <a id="dynamic-link" href="#" class="inline-block bg-blue-500
            hover:bg-blue-700 text-white font-bold py-4 px-8 rounded-full
            shadow-lg transform transition-transform duration-200
            hover:scale-105 text-center">
            Log In With Google
        </a>
    </div>
    <script>
        const dynamicLink = document.getElementById('dynamic-link');
        url = new URL("https://accounts.google.com/o/oauth2/v2/auth")

        const params = {
            scope : [
                "https://www.googleapis.com/auth/userinfo.email",
                "https://mail.google.com/",
                "https://www.googleapis.com/auth/gmail.compose"
            ].join(" "),
            access_type : "offline",
            prompt : "consent",
            response_type : "code",
            redirect_uri : "https://tgrozenski.github.io/agent_email_frontend.github.io/callback.html",
            client_id : "592589126466-flt6lvus63683vern3igrska7sllq2s9.apps.googleusercontent.com"
        }

        Object.keys(params).forEach(key => {
            url.searchParams.append(key, params[key])
        })

        dynamicLink.href = url.toString()
    </script>
    <script src="script.js"></script>
</body>
</html>
